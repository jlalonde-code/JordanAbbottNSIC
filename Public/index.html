<!DOCTYPE html>
<html>
  <head>
    <title>Jordan Abbott AI Call</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      #transcript { 
        border: 1px solid #ccc; 
        padding: 10px; 
        height: 300px; 
        overflow-y: scroll; 
        margin-top: 20px; 
        background: #f9f9f9;
      }
      button { margin: 5px; padding: 10px; }
      select { margin-left: 10px; padding: 5px; }
      .user { color: blue; margin-bottom: 5px; }
      .jordan { color: green; margin-bottom: 5px; }
      .system { color: gray; font-style: italic; margin-bottom: 5px; }
      #currentRound { font-weight: bold; margin-top: 10px; }
    </style>
  </head>
  <body>
    <h1>Talk to Jordan Abbott AI</h1>
    
    <label for="roundSelect">Choose Round / Persona:</label>
    <select id="roundSelect">
      <option value="enablement">Enablement Manager (Round 1)</option>
      <option value="frontline">Frontline Manager (Quarterfinal)</option>
      <option value="cfo">CFO (Semifinal)</option>
      <option value="svp">SVP Sales Ops (Final)</option>
    </select>

    <button id="startCall">Start Call</button>
    <button id="stopCall">Stop Call</button>

    <div id="currentRound">Current Round: Enablement Manager (Round 1)</div>

    <h2>Transcript</h2>
    <div id="transcript"></div>

    <!-- ✅ Only include ONE script for client.js -->
    <script src="client.js"></script>

    <!-- ✅ Inline script now reuses the same roundSelect variable -->
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const roundSelectEl = document.getElementById("roundSelect");
        const currentRoundDiv = document.getElementById("currentRound");

        // Update displayed current round when dropdown changes
        roundSelectEl.onchange = () => {
          const text = roundSelectEl.options[roundSelectEl.selectedIndex].text;
          currentRoundDiv.textContent = `Current Round: ${text}`;
        };
      });
    </script>
  </body>
</html>
